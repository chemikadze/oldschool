\documentclass[a4paper,10pt,oneside]{article}
\usepackage[utf8]{inputenc}
\usepackage[usenames,dvipsnames]{color}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage[english,russian]{babel} 
\usepackage{tikz}


\oddsidemargin=0pt
\textwidth=165mm

\author{Соколов Николай, ФПКиФ 2-2}
\title{Лабораторная работа по операционным\nolinebreak{} системам. \linebreak
Алгоритмы планирования ввода-вывода. Алгоритм C-LOOK.}
\date{}

\begin{document}
\maketitle

\section{Общие сведения}
Программа представляет собой реализацию некоторых алгоритмов планирования ввода-вывода, таких как:
\begin{itemize}
 \item First Come First Served (FCFS)
 \item Shortest Seek Time First (SSTF)
 \item SCAN
 \item C-SCAN
 \item LOOK
 \item C-LOOK
\end{itemize}
Реализация выполнена на языке \textit{C++} с использованием кроссплатформенного фреймворка \textit{Qt} и может быть скомпилирована под большинство
современных платформ, таких как \textit{Windows}, \textit{GNU/Linux}, \textit{MacOS X}, а так же \textit{Maemo} и \textit{Symbian}. 
Для функционирования программы необходимы библиотеки \textit{QtCore} и \textit{QtGUI}.

\section{Функциональное назначение}
По введенной последовательности цилиндров программа формирует правильную очередность чтения данных с диска в соответствии с выбранным алгоритмом
и направлением движения головки жесткого диска. Кроме этого, в окне программы отображается схематическое анимированное изображение жесткого диска,
на котором наглядно иллюстрируется полученная последовательность чтения секторов.

\section{Описание логической структуры}
Объектная структура состоит из двух классов: \texttt{Widget}, реализующего окно, и \texttt{HddWidget}, реализующего виджет жесткого диска. Классы объявлены в файлах
\texttt{widget.h} и \texttt{hddwidget.c} соответственно. Объектная структура приведена на следующей UML диаграмме:

\input{classes}

Алгоритм FCFS наиболее прост и заключается в переходе к дорожкам в последовательности их ввода. Как правило, результат работы алгоритма наименее оптимален.

SSTF выбирает наиближайшую к текущей дорожку. Результат работы этого алгоритма намного лучше, чем у FCFS в общем случае, но возможны крайние случаи при которых
SSTF ненамного лучше FCFS.

Алгоритм SCAN состоит в последовательном переходе от дорожки к дорожке в той последовательности, в которой они идут на диске. Если в текущем направлении перемещения
головки не осталось дорожек, она доходит до края диска и начинает двигаться в противоположном направлении.

LOOK - алгоритм, похожий на SCAN. В случае LOOK не происходит перемещения к краю диска, направление меняется после прочтения ``крайней`` дорожки.
Циклические модификации SCAN и LOOK (C-SCAN и C-LOOK) отличаются от нециклических только тем, что движение головки осуществляется только в одну сторону.
Это позволяет избежать большого ожидания для дорожек, находящихся на противоположном крае диска.

Блок-схема алгоритма C-LOOK:

\input{diagram-clook}

% Исходный код программы:
% 
% \texttt{main.cpp}
% 
% \input{main.cpp.tex}
% 
% \texttt{widget.h}
% 
% \input{widget.h.tex}
% 
% \texttt{widget.cpp}
% 
% \input{widget.cpp.tex}
% 
% \texttt{hddwidget.h}
% 
% \input{hddwidget.h.tex}
% 
% \texttt{hddwidget.cpp}
% 
% \input{hddwidget.cpp.tex}

\pagebreak
Исходный код функции, реализующей LOOK и C-LOOK:

\begin{flushleft}
\texttt{
  \input{clook.cpp.tex}
}
\end{flushleft}


\section{Входные данные}
В программу вводятся следующие параметры:
\begin{itemize}
 \item максимальный номер цилиндра (нумерация начинается с нуля)
 \item количество запросов
 \item начальная позиция головки жесткого диска
 \item направление движения головки жесткого диска
\end{itemize}

\section{Выходные данные}
Результатом работы программы является последовательность номеров цилиндров, в которой будет двигаться головка жесткого диска.

\section{Пример работы программы}
Для 10 запросов с максимальным номером цилиндра 99 и начальной позицией 25:

\begin{quote}
\begin{flushleft}
\textbf{Ввод:} 63, 64, 37, 16, 9, 93, 20, 63, 91, 74.\linebreak
\textbf{Вывод:} 25, 35, 63, 63, 64, 74, 91, 93, 9, 16, 20.\linebreak
Длина пробега: 163.
\end{flushleft}
\end{quote}

\includegraphics[width=150mm]{ioshed.png}


\end{document}
